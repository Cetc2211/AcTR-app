(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2192],{2212:function(e,t,r){Promise.resolve().then(r.bind(r,92149))},16463:function(e,t,r){"use strict";var n=r(71169);r.o(n,"notFound")&&r.d(t,{notFound:function(){return n.notFound}}),r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},92149:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var n=r(57437),a=r(48185),s=r(47304),i=r(89733),o=r(16463),l=r(66648),d=r(87138),c=r(86644);let u=(0,r(6497).Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var f=r(77209),p=r(86763),m=r(67568),x=r(2265),h=r(49354),b=r(44541),v=r(79055);function g(){let e=(0,o.useParams)().groupId,{activeGroup:t,activePartialId:r,partialData:g,calculateDetailedFinalGrade:y,setRecoveryGrades:j}=(0,m.e)(),{toast:N}=(0,p.pm)(),{recoveryGrades:w={}}=g,{criteria:k=[]}=t||{},C=(0,x.useMemo)(()=>t&&t.students?[...t.students].sort((e,t)=>e.name.localeCompare(t.name)):[],[t]),R=(e,t,r)=>{let n={...t,recoveryGrades:{...t.recoveryGrades,[e]:{grade:0,applied:!1}}};return y(e,n,r).finalGrade},S=(0,x.useMemo)(()=>k&&0!==k.length?C.map(e=>({student:e,originalGrade:R(e.id,g,k)})).filter(e=>e.originalGrade<60):[],[C,g,k,y]),T=(e,t)=>{let r=""===t?null:parseFloat(t);if(null!==r&&(isNaN(r)||r<0||r>100)){N({variant:"destructive",title:"Calificaci\xf3n inv\xe1lida",description:"La calificaci\xf3n debe ser un n\xfamero entre 0 y 100."});return}j(t=>{let n=t||{};return{...n,[e]:{...n[e]||{applied:!1},grade:r}}})},E=(e,t)=>{j(r=>{let n=r||{};return{...n,[e]:{...n[e]||{grade:0},applied:t}}})};return t?(0,n.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)(i.z,{asChild:!0,variant:"outline",size:"icon",children:(0,n.jsxs)(d.default,{href:"/grades/".concat(e,"/grades"),children:[(0,n.jsx)(c.Z,{}),(0,n.jsx)("span",{className:"sr-only",children:"Volver a Calificaciones"})]})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold",children:"Calificaci\xf3n de Recuperaci\xf3n"}),(0,n.jsxs)("p",{className:"text-muted-foreground",children:['Grupo "',t.subject,'" - ',(0,h.G)(r),"."]})]})]})}),(0,n.jsxs)(a.Zb,{children:[(0,n.jsxs)(a.Ol,{children:[(0,n.jsx)(a.ll,{children:"Estudiantes en Recuperaci\xf3n"}),(0,n.jsx)(a.SZ,{children:"Lista de estudiantes con calificaci\xf3n reprobatoria en este parcial. Ingresa la nueva calificaci\xf3n y marca la casilla para aplicarla."})]}),(0,n.jsx)(a.aY,{children:(0,n.jsxs)(s.iA,{children:[(0,n.jsx)(s.xD,{children:(0,n.jsxs)(s.SC,{children:[(0,n.jsx)(s.ss,{className:"w-[300px]",children:"Estudiante"}),(0,n.jsx)(s.ss,{children:"Calificaci\xf3n Original"}),(0,n.jsx)(s.ss,{children:"Calificaci\xf3n Recuperaci\xf3n"}),(0,n.jsx)(s.ss,{children:"Aplicar"})]})}),(0,n.jsx)(s.RM,{children:S.length>0?S.map(e=>{var t,r,a,i;let{student:o,originalGrade:d}=e;return(0,n.jsxs)(s.SC,{children:[(0,n.jsxs)(s.pj,{className:"font-medium flex items-center gap-2",children:[(0,n.jsx)(l.default,{src:o.photo,alt:o.name,width:40,height:40,className:"rounded-full"}),o.name]}),(0,n.jsx)(s.pj,{children:(0,n.jsxs)(v.C,{variant:"destructive",children:[d.toFixed(1),"%"]})}),(0,n.jsx)(s.pj,{children:(0,n.jsx)(f.I,{type:"number",min:"0",max:"100",className:"w-28",placeholder:"0-100",value:null!==(a=null===(t=w[o.id])||void 0===t?void 0:t.grade)&&void 0!==a?a:"",onChange:e=>T(o.id,e.target.value)})}),(0,n.jsx)(s.pj,{children:(0,n.jsx)(b.X,{checked:null!==(i=null===(r=w[o.id])||void 0===r?void 0:r.applied)&&void 0!==i&&i,onCheckedChange:e=>E(o.id,!!e)})})]},o.id)}):(0,n.jsx)(s.SC,{children:(0,n.jsx)(s.pj,{colSpan:4,className:"text-center h-24",children:(0,n.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,n.jsx)(u,{className:"h-10 w-10 text-green-500"}),(0,n.jsx)("p",{className:"font-semibold",children:"\xa1Felicidades!"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"No hay estudiantes reprobados en este parcial."})]})})})})]})})]})]}):(0,o.notFound)()}},79055:function(e,t,r){"use strict";r.d(t,{C:function(){return o}});var n=r(57437);r(2265);var a=r(13027),s=r(49354);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,...a}=e;return(0,n.jsx)("div",{className:(0,s.cn)(i({variant:r}),t),...a})}},89733:function(e,t,r){"use strict";r.d(t,{d:function(){return l},z:function(){return d}});var n=r(57437),a=r(2265),s=r(71538),i=r(13027),o=r(49354);let l=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:d=!1,...c}=e,u=d?s.g7:"button";return(0,n.jsx)(u,{className:(0,o.cn)(l({variant:a,size:i,className:r})),ref:t,...c})});d.displayName="Button"},48185:function(e,t,r){"use strict";r.d(t,{Ol:function(){return o},SZ:function(){return d},Zb:function(){return i},aY:function(){return c},eW:function(){return u},ll:function(){return l}});var n=r(57437),a=r(2265),s=r(49354);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});i.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...a})});o.displayName="CardHeader";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});l.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},44541:function(e,t,r){"use strict";r.d(t,{X:function(){return l}});var n=r(57437),a=r(2265),s=r(69324),i=r(60926),o=r(49354);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.fC,{ref:t,className:(0,o.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...a,children:(0,n.jsx)(s.z$,{className:(0,o.cn)("flex items-center justify-center text-current"),children:(0,n.jsx)(i.Z,{className:"h-4 w-4"})})})});l.displayName=s.fC.displayName},77209:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var n=r(57437),a=r(2265),s=r(49354);let i=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,n.jsx)("input",{type:a,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...i})});i.displayName="Input"},47304:function(e,t,r){"use strict";r.d(t,{RM:function(){return l},SC:function(){return d},iA:function(){return i},pj:function(){return u},ss:function(){return c},xD:function(){return o}});var n=r(57437),a=r(2265),s=r(49354);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{className:"relative w-full overflow-auto",children:(0,n.jsx)("table",{ref:t,className:(0,s.cn)("w-full caption-bottom text-sm",r),...a})})});i.displayName="Table";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("thead",{ref:t,className:(0,s.cn)("[&_tr]:border-b",r),...a})});o.displayName="TableHeader";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("tbody",{ref:t,className:(0,s.cn)("[&_tr:last-child]:border-0",r),...a})});l.displayName="TableBody",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("tfoot",{ref:t,className:(0,s.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...a})}).displayName="TableFooter";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("tr",{ref:t,className:(0,s.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...a})});d.displayName="TableRow";let c=a.forwardRef((e,t)=>{let{className:r,padding:a="default",...i}=e;return(0,n.jsx)("th",{ref:t,className:(0,s.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground","checkbox"===a?"p-2 w-4":"",r),...i})});c.displayName="TableHead";let u=a.forwardRef((e,t)=>{let{className:r,padding:a="default",...i}=e;return(0,n.jsx)("td",{ref:t,className:(0,s.cn)("p-4 align-middle","checkbox"===a?"p-2":"",r),...i})});u.displayName="TableCell",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("caption",{ref:t,className:(0,s.cn)("mt-4 text-sm text-muted-foreground",r),...a})}).displayName="TableCaption"},86763:function(e,t,r){"use strict";r.d(t,{pm:function(){return f}});var n=r(2265);let a=0,s=new Map,i=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],d={toasts:[]};function c(e){d=o(d,e),l.forEach(e=>{e(d)})}function u(e){let{...t}=e,r=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),n=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||n()}}}),{id:r,dismiss:n,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function f(){let[e,t]=n.useState(d);return n.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},69324:function(e,t,r){"use strict";r.d(t,{fC:function(){return j},z$:function(){return w}});var n=r(2265),a=r(1584),s=r(98324),i=r(78149),o=r(91715),l=r(47250),d=r(75238),c=r(31383),u=r(25171),f=r(57437),p="Checkbox",[m,x]=(0,s.b)(p),[h,b]=m(p);function v(e){let{__scopeCheckbox:t,checked:r,children:a,defaultChecked:s,disabled:i,form:l,name:d,onCheckedChange:c,required:u,value:m="on",internal_do_not_use_render:x}=e,[b,v]=(0,o.T)({prop:r,defaultProp:null!=s&&s,onChange:c,caller:p}),[g,y]=n.useState(null),[j,N]=n.useState(null),w=n.useRef(!1),k=!g||!!l||!!g.closest("form"),C={checked:b,disabled:i,setChecked:v,control:g,setControl:y,name:d,form:l,value:m,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:!R(s)&&s,isFormControl:k,bubbleInput:j,setBubbleInput:N};return(0,f.jsx)(h,{scope:t,...C,children:"function"==typeof x?x(C):a})}var g="CheckboxTrigger",y=n.forwardRef((e,t)=>{let{__scopeCheckbox:r,onKeyDown:s,onClick:o,...l}=e,{control:d,value:c,disabled:p,checked:m,required:x,setControl:h,setChecked:v,hasConsumerStoppedPropagationRef:y,isFormControl:j,bubbleInput:N}=b(g,r),w=(0,a.e)(t,h),k=n.useRef(m);return n.useEffect(()=>{let e=null==d?void 0:d.form;if(e){let t=()=>v(k.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[d,v]),(0,f.jsx)(u.WV.button,{type:"button",role:"checkbox","aria-checked":R(m)?"mixed":m,"aria-required":x,"data-state":S(m),"data-disabled":p?"":void 0,disabled:p,value:c,...l,ref:w,onKeyDown:(0,i.Mj)(s,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,i.Mj)(o,e=>{v(e=>!!R(e)||!e),N&&j&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})})});y.displayName=g;var j=n.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:i,disabled:o,value:l,onCheckedChange:d,form:c,...u}=e;return(0,f.jsx)(v,{__scopeCheckbox:r,checked:a,defaultChecked:s,disabled:o,required:i,onCheckedChange:d,name:n,form:c,value:l,internal_do_not_use_render:e=>{let{isFormControl:n}=e;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(y,{...u,ref:t,__scopeCheckbox:r}),n&&(0,f.jsx)(C,{__scopeCheckbox:r})]})}})});j.displayName=p;var N="CheckboxIndicator",w=n.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:n,...a}=e,s=b(N,r);return(0,f.jsx)(c.z,{present:n||R(s.checked)||!0===s.checked,children:(0,f.jsx)(u.WV.span,{"data-state":S(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});w.displayName=N;var k="CheckboxBubbleInput",C=n.forwardRef((e,t)=>{let{__scopeCheckbox:r,...s}=e,{control:i,hasConsumerStoppedPropagationRef:o,checked:c,defaultChecked:p,required:m,disabled:x,name:h,value:v,form:g,bubbleInput:y,setBubbleInput:j}=b(k,r),N=(0,a.e)(t,j),w=(0,l.D)(c),C=(0,d.t)(i);n.useEffect(()=>{if(!y)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!o.current;if(w!==c&&e){let r=new Event("click",{bubbles:t});y.indeterminate=R(c),e.call(y,!R(c)&&c),y.dispatchEvent(r)}},[y,w,c,o]);let S=n.useRef(!R(c)&&c);return(0,f.jsx)(u.WV.input,{type:"checkbox","aria-hidden":!0,defaultChecked:null!=p?p:S.current,required:m,disabled:x,name:h,value:v,form:g,...s,tabIndex:-1,ref:N,style:{...s.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function R(e){return"indeterminate"===e}function S(e){return R(e)?"indeterminate":e?"checked":"unchecked"}C.displayName=k},47250:function(e,t,r){"use strict";r.d(t,{D:function(){return a}});var n=r(2265);function a(e){let t=n.useRef({value:e,previous:e});return n.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},75238:function(e,t,r){"use strict";r.d(t,{t:function(){return s}});var n=r(2265),a=r(1336);function s(e){let[t,r]=n.useState(void 0);return(0,a.b)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let n,a;if(!Array.isArray(t)||!t.length)return;let s=t[0];if("borderBoxSize"in s){let e=s.borderBoxSize,t=Array.isArray(e)?e[0]:e;n=t.inlineSize,a=t.blockSize}else n=e.offsetWidth,a=e.offsetHeight;r({width:n,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}},86644:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(6497).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},60926:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(6497).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])}},function(e){e.O(0,[4358,139,6900,6902,7138,3928,1119,3730,2971,7023,1744],function(){return e(e.s=2212)}),_N_E=e.O()}]);