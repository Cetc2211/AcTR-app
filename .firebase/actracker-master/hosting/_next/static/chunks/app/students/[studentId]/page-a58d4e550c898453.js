(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5918],{94318:function(e,t,a){Promise.resolve().then(a.bind(a,92395))},40189:function(e,t,a){"use strict";a.d(t,{F:function(){return n},I:function(){return r}}),a(74590);var s=a(58064),r=(0,s.$)("eb43155728f3ab567e2fd008e055712a0b903b0e"),n=(0,s.$)("be4663f3a25e1329317338b37d69ab5e6951b52b")},92395:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return P}});var s=a(57437),r=a(2265),n=a(48185),i=a(89733),l=a(16463),d=a(66648),o=a(87138),c=a(38087),u=a(86644),m=a(16508),f=a(73344),x=a(98878),p=a(20530),h=a(18787),g=a(61990),j=a(83625),v=a(62011),N=a(44182),b=a(94729),y=a(86763),w=a(97501),C=a(81173),k=a.n(C),z=a(67568),S=a(79055),E=a(49354),I=a(54662),G=a(4919),R=a(6460),T=a(81608),Z=a(44541),D=a(70402),O=a(80023);let _=e=>{let{observation:t,onUpdate:a,studentName:n}=e,[l,d]=(0,r.useState)(""),[o,c]=(0,r.useState)(!1),{toast:u}=(0,y.pm)();return(0,s.jsxs)("div",{className:"border-l-4 pl-3 py-2 ".concat(t.isClosed?"opacity-60":""),style:{borderColor:"M\xe9rito"===t.type?"hsl(var(--chart-2))":"hsl(var(--destructive))"},children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:"font-semibold text-sm",children:t.type}),t.isClosed&&(0,s.jsx)(S.C,{variant:"secondary",children:"Cerrado"})]}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground space-x-2",children:[(0,s.jsx)(S.C,{variant:"outline",className:"text-xs",children:(0,E.G)(t.partialId)}),(0,s.jsx)("span",{children:(0,R.WU)(new Date(t.date),"dd MMM yyyy",{locale:T.es})})]})]}),(0,s.jsx)("p",{className:"text-sm mt-1 mb-2",children:t.details}),t.canalizationTarget&&(0,s.jsxs)(S.C,{variant:"outline",className:"text-xs",children:["Canalizado a: ",t.canalizationTarget]}),t.followUpUpdates.length>0&&(0,s.jsxs)("div",{className:"mt-3 space-y-2 border-t pt-2",children:[(0,s.jsx)("p",{className:"text-xs font-bold",children:"Actualizaciones de seguimiento:"}),t.followUpUpdates.map((e,t)=>(0,s.jsxs)("div",{className:"text-xs bg-muted/50 p-2 rounded-md",children:[(0,s.jsxs)("p",{className:"font-semibold",children:[(0,R.WU)(new Date(e.date),"dd MMM yyyy",{locale:T.es}),":"]}),(0,s.jsx)("p",{children:e.update})]},t))]}),t.requiresFollowUp&&!t.isClosed&&(0,s.jsxs)("div",{className:"mt-3 space-y-2 border-t pt-3",children:[(0,s.jsx)(G.g,{value:l,onChange:e=>d(e.target.value),placeholder:"A\xf1adir actualizaci\xf3n de seguimiento...",rows:2,className:"text-sm"}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(Z.X,{id:"close-".concat(t.id),checked:o,onCheckedChange:e=>c(!!e)}),(0,s.jsx)(D._,{htmlFor:"close-".concat(t.id),className:"text-xs font-normal",children:"Marcar caso como cerrado"})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)(i.z,{size:"sm",onClick:()=>{l.trim()&&(a(t.id,l,o),d(""),c(!1))},disabled:!l.trim(),children:"Guardar Seguimiento"})})]})]})]})};function A(e){let{student:t,open:a,onOpenChange:n}=e,{allObservations:l,updateStudentObservation:d}=(0,z.e)(),[o,c]=(0,r.useState)([]),{toast:u}=(0,y.pm)();(0,r.useEffect)(()=>{t?c([...l[t.id]||[]].sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())):c([])},[t,l,a]);let m=async(e,a,s)=>{if(t)try{await d(t.id,e,a,s),u({title:"Seguimiento Actualizado",description:"Se ha a\xf1adido una nueva actualizaci\xf3n para ".concat(t.name,".")})}catch(e){u({variant:"destructive",title:"Error al actualizar",description:"No se pudo guardar el seguimiento."})}};return t?(0,s.jsx)(I.Vq,{open:a,onOpenChange:n,children:(0,s.jsxs)(I.cZ,{className:"sm:max-w-lg",children:[(0,s.jsxs)(I.fK,{children:[(0,s.jsxs)(I.$N,{children:["Bit\xe1cora de ",t.name]}),(0,s.jsx)(I.Be,{children:"Historial de observaciones y seguimientos registrados."})]}),(0,s.jsx)(O.x,{className:"max-h-[60vh] h-full my-4 pr-4",children:o.length>0?(0,s.jsx)("div",{className:"space-y-4",children:o.map(e=>(0,s.jsx)(_,{observation:e,onUpdate:m,studentName:t.name},e.id))}):(0,s.jsx)("p",{className:"text-sm text-center text-muted-foreground py-12",children:"No hay observaciones registradas para este estudiante."})}),(0,s.jsx)(I.cN,{children:(0,s.jsx)(I.GG,{asChild:!0,children:(0,s.jsx)(i.z,{variant:"outline",children:"Cerrar"})})})]})}):null}var F=a(57732),M=a(40189);function P(){var e,t;let a=(0,l.useParams)().studentId,{settings:C,allStudents:I,groups:R,calculateDetailedFinalGrade:T,allObservations:Z,isLoading:D,fetchPartialData:O,activePartialId:_,partialData:P,setStudentFeedback:V}=(0,z.e)(),[U,B]=(0,r.useState)([]),[q,W]=(0,r.useState)(!0),[Y,H]=(0,r.useState)(!1),[$,L]=(0,r.useState)(!1),[K,X]=(0,r.useState)(!1),[J,Q]=(0,r.useState)(""),[ee,et]=(0,r.useState)(!1),ea=(0,r.useRef)(null),{toast:es}=(0,y.pm)(),er=(0,r.useMemo)(()=>I.find(e=>e.id===a),[I,a]),en=(0,r.useMemo)(()=>R.filter(e=>e.students.some(e=>e.id===a)),[R,a]),ei=(0,r.useMemo)(()=>{var e;return(null===(e=P.feedbacks)||void 0===e?void 0:e[a])||""},[P.feedbacks,a]);(0,r.useEffect)(()=>{K||ee||Q(ei)},[ei,K,ee]),(0,r.useEffect)(()=>{(async()=>{if(D||!er||0===en.length){D||W(!1);return}W(!0);let e=[],t=en[0];try{for(let s of["p1","p2","p3"]){let r=await O(t.id,s);if(r&&(Object.keys(r.grades).length>0||Object.keys(r.recoveryGrades).length>0)){let n=T(er.id,r,t.criteria),i=0,l=0,d=0,o=r.attendance||{};Object.keys(o).forEach(e=>{var t;(null===(t=o[e])||void 0===t?void 0:t[a])!==void 0&&(d++,o[e][a]?i++:l++)});let c=(Z[a]||[]).filter(e=>e.partialId===s);e.push({...n,partialId:s,attendance:{p:i,a:l,total:d,rate:d>0?i/d*100:100},observations:c})}}B(e)}catch(e){console.error("Error calculating stats:",e),es({variant:"destructive",title:"Error",description:"No se pudieron calcular las estad\xedsticas."})}finally{W(!1)}})()},[D,er,en,a,O,T,Z,es]);let el=(0,r.useMemo)(()=>{if(0===U.length)return 0;let e=U.filter(e=>void 0!==e.finalGrade);return 0===e.length?0:e.reduce((e,t)=>e+t.finalGrade,0)/e.length},[U]),ed=(0,r.useMemo)(()=>{if(U.find(e=>"p3"===e.partialId)&&3===U.length)return{title:"Calificaci\xf3n Final Semestral",grade:el};let e=U.find(e=>e.partialId===_);if(e)return{title:"Calificaci\xf3n del ".concat((0,E.G)(_)),grade:e.finalGrade};let t=[...U].pop();return t?{title:"Calificaci\xf3n del ".concat((0,E.G)(t.partialId)),grade:t.finalGrade}:{title:"Calificaci\xf3n Final",grade:0}},[U,el,_]),eo=async()=>{let e=ea.current;if(!e)return;let t=["interactive-buttons-header","interactive-buttons-card","feedback-buttons-container"].map(e=>document.getElementById(e)).filter(Boolean),a=new Map;es({title:"Generando PDF...",description:"Esto puede tardar un momento."}),t.forEach(e=>{a.set(e,e.style.display),e.style.display="none"}),K&&X(!1);try{await new Promise(e=>setTimeout(e,100));let t=await k()(e,{scale:2,useCORS:!0}),a=t.toDataURL("image/png"),s=new w.ZP("p","mm","a4"),r=s.internal.pageSize.getWidth(),n=s.internal.pageSize.getHeight(),i=t.width,l=t.height,d=i/l,o=r-20,c=o/d;c>n-20&&(o=(c=n-20)*d);let u=(r-o)/2;s.addImage(a,"PNG",u,10,o,c),s.save("informe_".concat((null==er?void 0:er.name.replace(/\s+/g,"_"))||"estudiante",".pdf"))}catch(e){console.error("Error generating PDF:",e),es({variant:"destructive",title:"Error al generar PDF",description:"No se pudo crear el archivo. Int\xe9ntalo de nuevo."})}finally{t.forEach(e=>{e.style.display=a.get(e)||""}),K&&X(!0)}},ec=async()=>{er&&(await V(er.id,J),X(!1),es({title:"Retroalimentaci\xf3n guardada"}))},eu=async()=>{if(!er)return;let e=U.find(e=>e.partialId===_);if(!e){es({variant:"destructive",title:"Faltan Datos",description:"No hay datos de calificaci\xf3n para el ".concat((0,E.G)(_),".")});return}et(!0),es({title:"Generando retroalimentaci\xf3n con IA...",description:"Esto puede tomar unos segundos."});try{let t=await (0,M.F)({studentName:er.name,partial:(0,E.G)(_),finalGrade:e.finalGrade,attendanceRate:e.attendance.rate,criteria:e.criteriaDetails.map(e=>({name:e.name,earnedPercentage:e.earned})),observations:e.observations.map(e=>e.details)});Q(t),X(!0),es({title:"\xa1Retroalimentaci\xf3n generada!",description:"Revisa y guarda el an\xe1lisis."})}catch(e){console.error(e),es({variant:"destructive",title:"Error de IA",description:e.message||"No se pudo generar la retroalimentaci\xf3n. Verifica tu clave API y la conexi\xf3n."})}finally{et(!1)}};if(D||q)return(0,s.jsxs)("div",{className:"flex justify-center items-center h-full",children:[(0,s.jsx)(c.Z,{className:"h-8 w-8 animate-spin"}),(0,s.jsx)("span",{className:"ml-2",children:"Cargando datos del estudiante..."})]});if(!er)return(0,l.notFound)();let em=Object.values(Z).flat().filter(e=>e.studentId===a),ef=(null===(e=en[0])||void 0===e?void 0:e.facilitator)||"Docente";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(A,{student:er,open:Y,onOpenChange:H}),(0,s.jsx)(F.G,{studentName:er.name,open:$,onOpenChange:L}),(0,s.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,s.jsxs)("div",{id:"interactive-buttons-header",className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(i.z,{asChild:!0,variant:"outline",size:"icon",children:(0,s.jsxs)(o.default,{href:"/reports",children:[(0,s.jsx)(u.Z,{}),(0,s.jsx)("span",{className:"sr-only",children:"Volver"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Perfil del Estudiante"}),(0,s.jsxs)("p",{className:"text-muted-foreground",children:["Informaci\xf3n detallada de ",er.name," para el ",(0,E.G)(_),"."]})]})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)(i.z,{variant:"outline",onClick:eo,children:[(0,s.jsx)(m.Z,{className:"mr-2 h-4 w-4"})," PDF"]})})]}),(0,s.jsxs)("div",{ref:ea,className:"p-2",children:[(0,s.jsx)(n.Zb,{children:(0,s.jsxs)(n.Ol,{className:"flex flex-col md:flex-row gap-6 items-start",children:[(0,s.jsx)(d.default,{src:er.photo,alt:er.name,width:128,height:128,className:"rounded-full border-4 border-primary","data-ai-hint":"student photo"}),(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)(n.ll,{className:"text-3xl",children:er.name}),(0,s.jsxs)("p",{className:"text-lg text-muted-foreground font-semibold",children:["Asignatura: ",(null===(t=en[0])||void 0===t?void 0:t.subject)||"No asignada"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 mt-4 text-sm text-muted-foreground",children:[(0,s.jsxs)("p",{className:"flex items-center gap-2",children:[(0,s.jsx)(f.Z,{className:"h-4 w-4 text-primary"})," ",er.email||"No registrado"]}),(0,s.jsxs)("p",{className:"flex items-center gap-2",children:[(0,s.jsx)(x.Z,{className:"h-4 w-4 text-primary"})," ",er.phone||"No registrado"]}),(0,s.jsxs)("p",{className:"flex items-center gap-2",children:[(0,s.jsx)(p.Z,{className:"h-4 w-4 text-primary"})," Tutor: ",er.tutorName||"No registrado"]}),(0,s.jsxs)("p",{className:"flex items-center gap-2",children:[(0,s.jsx)(x.Z,{className:"h-4 w-4 text-primary"})," Tel. Tutor: ",er.tutorPhone||"No registrado"]})]}),(0,s.jsxs)("div",{id:"interactive-buttons-card",className:"mt-4 flex flex-wrap gap-2",children:[(0,s.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>H(!0),children:[(0,s.jsx)(h.Z,{className:"mr-2"})," Ver Bit\xe1cora"]}),(0,s.jsx)(i.z,{variant:"secondary",size:"sm",onClick:()=>L(!0),children:"Enviar informe v\xeda WhatsApp"})]})]})]})}),(0,s.jsxs)("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"lg:col-span-2 space-y-4",children:U.length>0?U.map(e=>(0,s.jsxs)(n.Zb,{children:[(0,s.jsxs)(n.Ol,{children:[(0,s.jsx)(n.ll,{children:(0,E.G)(e.partialId)}),(0,s.jsxs)(n.SZ,{children:["Calificaci\xf3n Final:"," ",(0,s.jsxs)(S.C,{className:e.finalGrade>=60?"bg-green-500":"bg-destructive",children:[e.finalGrade.toFixed(1),"%",e.isRecovery&&(0,s.jsx)("span",{className:"ml-1 font-bold text-white",children:"(R)"})]})," ","| Asistencia: ",(0,s.jsxs)(S.C,{variant:"secondary",children:[e.attendance.rate.toFixed(1),"%"]})]})]}),(0,s.jsxs)(n.aY,{children:[(0,s.jsx)("h4",{className:"font-semibold mb-2 text-sm",children:"Desglose de Criterios:"}),(0,s.jsx)("div",{className:"space-y-1 text-sm p-3 bg-muted/30 rounded-md",children:e.criteriaDetails.map(e=>(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("span",{children:[e.name," ","Recuperaci\xf3n"!==e.name&&(0,s.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",e.weight,"%)"]})]}),(0,s.jsxs)("span",{className:"font-medium",children:[e.earned.toFixed(1),"%"]})]},e.name))})]})]},e.partialId)):(0,s.jsx)(n.Zb,{children:(0,s.jsxs)(n.aY,{className:"p-12 text-center",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Sin datos de rendimiento"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-1",children:"No hay informaci\xf3n de calificaciones registrada para este estudiante en ning\xfan parcial."})]})})}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(n.Zb,{children:[(0,s.jsx)(n.Ol,{children:(0,s.jsx)(n.ll,{className:"text-base text-center",children:ed.title})}),(0,s.jsx)(n.aY,{className:"text-center",children:(0,s.jsxs)("p",{className:"text-5xl font-bold",style:{color:ed.grade>=60?"hsl(var(--chart-2))":"hsl(var(--destructive))"},children:[ed.grade.toFixed(1),"%"]})})]}),(0,s.jsxs)(n.Zb,{children:[(0,s.jsx)(n.Ol,{children:(0,s.jsxs)(n.ll,{className:"flex items-center gap-2 text-base",children:[(0,s.jsx)(g.Z,{className:"h-5 w-5"})," Bit\xe1cora del Semestre"]})}),(0,s.jsx)(n.aY,{children:em.length>0?(0,s.jsx)("div",{className:"space-y-3 text-sm max-h-64 overflow-y-auto pr-2",children:em.map(e=>(0,s.jsxs)("div",{className:"p-2 bg-muted/50 rounded-md",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("p",{className:"font-semibold",children:e.type}),(0,s.jsx)(S.C,{variant:"outline",className:"text-xs",children:(0,E.G)(e.partialId)})]}),(0,s.jsx)("p",{className:"text-xs mt-1",children:e.details})]},e.id))}):(0,s.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No hay observaciones."})})]})]})]}),(0,s.jsxs)(n.Zb,{className:"mt-6",children:[(0,s.jsx)(n.Ol,{children:(0,s.jsxs)("div",{id:"feedback-buttons-container",className:"flex justify-between items-center w-full",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(n.ll,{children:["Recomendaciones y retroalimentaci\xf3n (",(0,E.G)(_),")"]}),(0,s.jsx)(n.SZ,{children:"An\xe1lisis personalizado del docente sobre el rendimiento del estudiante."})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[!K&&(0,s.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>X(!0),children:[(0,s.jsx)(j.Z,{className:"mr-2"})," Editar"]}),(0,s.jsxs)(i.z,{variant:"outline",size:"sm",onClick:eu,disabled:ee||!U.some(e=>e.partialId===_),children:[ee?(0,s.jsx)(c.Z,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsx)(v.Z,{className:"mr-2 h-4 w-4"}),"Generar con IA"]})]})]})}),(0,s.jsx)(n.aY,{children:K?(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(G.g,{placeholder:"Escribe aqu\xed tu retroalimentaci\xf3n, an\xe1lisis de fortalezas, \xe1reas de oportunidad y recomendaciones para el estudiante...",value:J,onChange:e=>Q(e.target.value),rows:8,className:"w-full text-justify"}),(0,s.jsxs)("div",{className:"flex justify-end gap-2 pt-2",children:[(0,s.jsxs)(i.z,{variant:"ghost",size:"sm",onClick:()=>{Q(ei),X(!1)},children:[(0,s.jsx)(N.Z,{className:"mr-2"}),"Cancelar"]}),(0,s.jsxs)(i.z,{size:"sm",onClick:ec,children:[(0,s.jsx)(b.Z,{className:"mr-2"}),"Guardar Retroalimentaci\xf3n"]})]})]}):(0,s.jsx)("div",{className:"prose prose-sm max-w-none dark:prose-invert mt-2 whitespace-pre-wrap min-h-[100px] p-3 bg-muted/30 rounded-md text-justify",children:J||(0,s.jsx)("p",{className:"text-muted-foreground italic",children:'No hay retroalimentaci\xf3n para este parcial. Haz clic en "Editar" para agregar una.'})})}),(0,s.jsx)(n.eW,{children:(0,s.jsxs)("div",{className:"w-full mt-12 pt-4 text-center text-sm",children:[(0,s.jsx)("div",{className:"inline-block relative h-20 w-48",children:C.signature&&(0,s.jsx)(d.default,{src:C.signature,alt:"Firma del docente",fill:!0,style:{objectFit:"contain"}})}),(0,s.jsx)("div",{className:"border-t border-foreground w-48 mx-auto mt-2"}),(0,s.jsx)("p",{className:"font-semibold",children:ef}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Firma del Docente"})]})})]})]})]})]})}},79055:function(e,t,a){"use strict";a.d(t,{C:function(){return l}});var s=a(57437);a(2265);var r=a(13027),n=a(49354);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{className:(0,n.cn)(i({variant:a}),t),...r})}},89733:function(e,t,a){"use strict";a.d(t,{d:function(){return d},z:function(){return o}});var s=a(57437),r=a(2265),n=a(71538),i=a(13027),l=a(49354);let d=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,t)=>{let{className:a,variant:r,size:i,asChild:o=!1,...c}=e,u=o?n.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(d({variant:r,size:i,className:a})),ref:t,...c})});o.displayName="Button"},48185:function(e,t,a){"use strict";a.d(t,{Ol:function(){return l},SZ:function(){return o},Zb:function(){return i},aY:function(){return c},eW:function(){return u},ll:function(){return d}});var s=a(57437),r=a(2265),n=a(49354);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});i.displayName="Card";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...r})});l.displayName="CardHeader";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});d.displayName="CardTitle";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});o.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})});u.displayName="CardFooter"},44541:function(e,t,a){"use strict";a.d(t,{X:function(){return d}});var s=a(57437),r=a(2265),n=a(69324),i=a(60926),l=a(49354);let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.fC,{ref:t,className:(0,l.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...r,children:(0,s.jsx)(n.z$,{className:(0,l.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(i.Z,{className:"h-4 w-4"})})})});d.displayName=n.fC.displayName},54662:function(e,t,a){"use strict";a.d(t,{$N:function(){return h},Be:function(){return g},GG:function(){return u},Vq:function(){return d},cN:function(){return p},cZ:function(){return f},fK:function(){return x},hg:function(){return o}});var s=a(57437),r=a(2265),n=a(13304),i=a(74732),l=a(49354);let d=n.fC,o=n.xz,c=n.h_,u=n.x8,m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});m.displayName=n.aV.displayName;let f=r.forwardRef((e,t)=>{let{className:a,children:r,...d}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(m,{}),(0,s.jsxs)(n.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...d,children:[r,(0,s.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(i.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=n.VY.displayName;let x=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};x.displayName="DialogHeader";let p=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};p.displayName="DialogFooter";let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});h.displayName=n.Dx.displayName;let g=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});g.displayName=n.dk.displayName},77209:function(e,t,a){"use strict";a.d(t,{I:function(){return i}});var s=a(57437),r=a(2265),n=a(49354);let i=r.forwardRef((e,t)=>{let{className:a,type:r,...i}=e;return(0,s.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});i.displayName="Input"},70402:function(e,t,a){"use strict";a.d(t,{_:function(){return o}});var s=a(57437),r=a(2265),n=a(38364),i=a(13027),l=a(49354);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.f,{ref:t,className:(0,l.cn)(d(),a),...r})});o.displayName=n.f.displayName},80023:function(e,t,a){"use strict";a.d(t,{x:function(){return l}});var s=a(57437),r=a(2265),n=a(26770),i=a(49354);let l=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(n.fC,{ref:t,className:(0,i.cn)("relative overflow-hidden",a),...l,children:[(0,s.jsx)(n.l_,{className:"h-full w-full rounded-[inherit]",children:r}),(0,s.jsx)(d,{}),(0,s.jsx)(n.Ns,{})]})});l.displayName=n.fC.displayName;let d=r.forwardRef((e,t)=>{let{className:a,orientation:r="vertical",...l}=e;return(0,s.jsx)(n.gb,{ref:t,orientation:r,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...l,children:(0,s.jsx)(n.q4,{className:"relative flex-1 rounded-full bg-border"})})});d.displayName=n.gb.displayName},4919:function(e,t,a){"use strict";a.d(t,{g:function(){return i}});var s=a(57437),r=a(2265),n=a(49354);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...r})});i.displayName="Textarea"},57732:function(e,t,a){"use strict";a.d(t,{G:function(){return m}});var s=a(57437),r=a(54662),n=a(89733),i=a(70402),l=a(77209),d=a(86763),o=a(2265),c=a(98878);let u=()=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:(0,s.jsx)("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})});function m(e){let{studentName:t,open:a,onOpenChange:m}=e,[f,x]=(0,o.useState)(""),{toast:p}=(0,d.pm)();return(0,s.jsx)(r.Vq,{open:a,onOpenChange:m,children:(0,s.jsxs)(r.cZ,{className:"sm:max-w-md",children:[(0,s.jsxs)(r.fK,{children:[(0,s.jsx)(r.$N,{children:"Enviar informe por WhatsApp"}),(0,s.jsx)(r.Be,{children:"Ingresa el n\xfamero de tel\xe9fono (incluyendo c\xf3digo de pa\xeds) al que deseas enviar el informe."})]}),(0,s.jsxs)("div",{className:"py-4 space-y-2",children:[(0,s.jsx)(i._,{htmlFor:"whatsapp-phone",children:"N\xfamero de Tel\xe9fono"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(c.Z,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(l.I,{id:"whatsapp-phone",type:"tel",value:f,onChange:e=>x(e.target.value),placeholder:"Ej: 5215512345678",className:"pl-8"})]})]}),(0,s.jsxs)(r.cN,{children:[(0,s.jsx)(r.GG,{asChild:!0,children:(0,s.jsx)(n.z,{variant:"outline",children:"Cancelar"})}),(0,s.jsxs)(n.z,{onClick:()=>{if(!f.trim()){p({variant:"destructive",title:"N\xfamero requerido",description:"Por favor, ingresa un n\xfamero de tel\xe9fono."});return}let e=encodeURIComponent("Hola, le comparto el informe acad\xe9mico de ".concat(t,".")),a=f.replace(/\D/g,""),s="https://wa.me/".concat(a,"?text=").concat(e);window.open(s,"_blank","noopener,noreferrer"),m(!1)},children:[(0,s.jsx)(u,{}),(0,s.jsx)("span",{className:"ml-2",children:"Enviar"})]})]})]})})}},86763:function(e,t,a){"use strict";a.d(t,{pm:function(){return m}});var s=a(2265);let r=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?i(a):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],o={toasts:[]};function c(e){o=l(o,e),d.forEach(e=>{e(o)})}function u(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=s.useState(o);return s.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}}},function(e){e.O(0,[4358,139,7337,2505,6900,537,6452,7138,1119,3928,3956,8477,3945,7012,2046,3730,2971,7023,1744],function(){return e(e.s=94318)}),_N_E=e.O()}]);